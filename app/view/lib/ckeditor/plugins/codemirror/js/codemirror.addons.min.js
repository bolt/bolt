(function(){function j(d){for(var e={name:"autoCloseBrackets",Backspace:function(a){if(a.somethingSelected())return CodeMirror.Pass;var b=a.getCursor(),c=a.getLine(b.line);if(b.ch&&b.ch<c.length&&0==d.indexOf(c.slice(b.ch-1,b.ch+1))%2)a.replaceRange("",CodeMirror.Pos(b.line,b.ch-1),CodeMirror.Pos(b.line,b.ch+1));else return CodeMirror.Pass}},c=[],a=0;a<d.length;a+=2)(function(a,b){function h(a){var c=a.getCursor();if(a.getRange(c,CodeMirror.Pos(c.line,c.ch+1))!=b||a.somethingSelected())return CodeMirror.Pass;
a.execCommand("goCharRight")}a!=b&&c.push(b);e["'"+a+"'"]=function(e){if(e.somethingSelected()){var k=e.getSelection();e.replaceSelection(a+k+b)}else if(a!=b||h(e)==CodeMirror.Pass){var k=e.getCursor(),d=CodeMirror.Pos(k.line,k.ch+1),m=e.getLine(k.line),l=m.charAt(k.ch);if(m.length==k.ch||c.indexOf(l)>=0||f.test(l))e.replaceSelection(a+b,{head:d,anchor:d});else return CodeMirror.Pass}};a!=b&&(e["'"+b+"'"]=h)})(d.charAt(a),d.charAt(a+1));return e}var f=/\s/;CodeMirror.defineOption("autoCloseBrackets",
!1,function(d,e,c){c=c&&c!=CodeMirror.Init;e&&!c?d.addKeyMap(j(typeof e=="string"?e:"()[]{}''\"\"")):!e&&c&&d.removeKeyMap("autoCloseBrackets")})})();
(function(){function j(c,a){var g=c.getCursor(),b=c.getTokenAt(g),h=CodeMirror.innerMode(c.getMode(),b.state),n=h.state,k,i;if("xml"!=h.mode.name)return CodeMirror.Pass;var m=c.getOption("autoCloseTags"),l="html"==h.mode.configuration,h="object"==typeof m&&m.dontCloseTags||l&&d,m="object"==typeof m&&m.indentTags||l&&e;if(">"==a&&n.tagName){if(i=n.tagName,b.end>g.ch&&(i=i.slice(0,i.length-b.end+g.ch)),k=i.toLowerCase(),"tag"==b.type&&"closeTag"==n.type||-1<b.string.indexOf("/")||h&&-1<f(h,k))return CodeMirror.Pass;
n=(b=m&&-1<f(m,k))?CodeMirror.Pos(g.line+1,0):CodeMirror.Pos(g.line,g.ch+1);c.replaceSelection(">"+(b?"\n\n":"")+"</"+i+">",{head:n,anchor:n});b&&(c.indentLine(g.line+1),c.indentLine(g.line+2))}else if("/"==a&&"<"==b.string)(i=n.context&&n.context.tagName)&&c.replaceSelection("/"+i+">","end");else return CodeMirror.Pass}function f(c,a){if(c.indexOf)return c.indexOf(a);for(var g=0,b=c.length;g<b;++g)if(c[g]==a)return g;return-1}CodeMirror.defineOption("autoCloseTags",!1,function(c,a,g){if(a&&(g==CodeMirror.Init||
!g)){g={name:"autoCloseTags"};(typeof a!="object"||a.whenClosing)&&(g["'/'"]=function(a){return j(a,"/")});(typeof a!="object"||a.whenOpening)&&(g["'>'"]=function(a){return j(a,">")});c.addKeyMap(g)}else!a&&g!=CodeMirror.Init&&g&&c.removeKeyMap("autoCloseTags")});var d="area base br col command embed hr img input keygen link meta param source track wbr".split(" "),e="applet blockquote body button div dl fieldset form frameset h1 h2 h3 h4 h5 h6 head html iframe layer legend object ol p select table ul".split(" ")})();
(function(){function j(e){var c=e.getCursor(),a=e.getTokenAt(c),g=CodeMirror.innerMode(e.getMode(),a.state).mode,b,h,d,k;if("comment"==a.type&&g.blockCommentStart&&(h=a.string.indexOf(g.blockCommentEnd),d=e.getRange(CodeMirror.Pos(c.line,0),CodeMirror.Pos(c.line,a.end)),-1==h||h!=a.string.length-g.blockCommentEnd.length))if(0==a.string.indexOf(g.blockCommentStart)){if(b=d.slice(0,a.start),!/^\s*$/.test(b)){b="";for(c=0;c<a.start;++c)b+=" "}}else-1!=(k=d.indexOf(g.blockCommentContinue))&&k+g.blockCommentContinue.length>
a.start&&/^\s*$/.test(d.slice(0,k))&&(b=d.slice(0,k));if(null!=b)e.replaceSelection("\n"+b+g.blockCommentContinue,"end");else return CodeMirror.Pass}for(var f=["clike","css","javascript"],d=0;d<f.length;++d)CodeMirror.extendMode(f[d],{blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * "});CodeMirror.defineOption("continueComments",null,function(e,c,a){a&&a!=CodeMirror.Init&&e.removeKeyMap("continueComment");a={name:"continueComment"};a["string"==typeof c?c:"Enter"]=j;e.addKeyMap(a)})})();
(function(){function j(a){function b(e,d,k){var f,i,l,j;if(e.text){f=q?0:e.text.length-1;i=q?e.text.length:-1;for(null!=k&&(f=k+r);f!=i;f+=r)if(l=e.text.charAt(f),t.test(l)&&a.getTokenAt(c(d,f+1)).type==u)if(j=g[l],">"==j.charAt(1)==q)s.push(l);else{if(s.pop()!=j.charAt(0))return{pos:f,match:!1};if(!s.length)return{pos:f,match:!0}}}}var e=a.getCursor(),d=a.getLineHandle(e.line),f=e.ch-1,l=0<=f&&g[d.text.charAt(f)]||g[d.text.charAt(++f)],j,o;if(!l)return null;var q=">"==l.charAt(1),r=q?1:-1,u=a.getTokenAt(c(e.line,
f+1)).type,s=[d.text.charAt(f)],t=/[(){}[\]]/,l=e.line;for(o=q?Math.min(l+100,a.lineCount()):Math.max(-1,l-100);l!=o&&!(j=l==e.line?b(d,l,f):b(a.getLineHandle(l),l),j);l+=r);return{from:c(e.line,f),to:j&&c(l,j.pos),match:j&&j.match}}function f(b,g){var d=j(b);if(d&&!(b.getLine(d.from.line).length>a)&&(!d.to||!(b.getLine(d.to.line).length>a))){var f=d.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",m=b.markText(d.from,c(d.from.line,d.from.ch+1),{className:f}),l=d.to&&b.markText(d.to,
c(d.to.line,d.to.ch+1),{className:f});if(e&&b.state.focused&&b.display.input.focus(),d=function(){b.operation(function(){m.clear();l&&l.clear()})},g)setTimeout(d,800);else return d}}function d(a){a.operation(function(){b&&(b(),b=null);a.somethingSelected()||(b=f(a,!1))})}var e=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||8>document.documentMode),c=CodeMirror.Pos,a=1E3,g={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},b=null;CodeMirror.defineOption("matchBrackets",!1,
function(a,b){if(b)a.on("cursorActivity",d);else a.off("cursorActivity",d)});CodeMirror.defineExtension("matchBrackets",function(){f(this,!0)});CodeMirror.defineExtension("findMatchingBracket",function(){return j(this)})})();
CodeMirror.newFoldFunction=function(j,f){if(null==f&&(f="↔"),"string"==typeof f){var d=document.createTextNode(f),f=document.createElement("span");f.appendChild(d);f.className="CodeMirror-foldmarker"}return function(d,c){var a,g,b,h,n;if("number"==typeof c&&(c=CodeMirror.Pos(c,0)),a=j(d,c),a){g=d.findMarksAt(a.from);for(h=b=0;h<g.length;++h)g[h].__isFold&&(++b,g[h].clear());b||(g=f.cloneNode(!0),CodeMirror.on(g,"mousedown",function(){n.clear()}),n=d.markText(a.from,a.to,{replacedWith:g,clearOnEnter:!0,
__isFold:!0}))}}};
CodeMirror.braceRangeFinder=function(j,f){for(var d=f.line,e=j.getLine(d),c=e.length,a,g,b,h,n,k,i,m,l;!(b=e.lastIndexOf("{",c),b<f.ch);){if(g=j.getTokenAt(CodeMirror.Pos(d,b+1)).type,!/^(comment|string)/.test(g)){a=b;break}c=b-1}if(null!=a&&!(e.lastIndexOf("}")>a)){e=1;c=j.lineCount();b=d+1;a:for(;b<c;++b){k=j.getLine(b);for(i=0;!(m=k.indexOf("{",i),l=k.indexOf("}",i),0>m&&(m=k.length),0>l&&(l=k.length),i=Math.min(m,l),i==k.length);){if(j.getTokenAt(CodeMirror.Pos(b,i+1)).type==g)if(i==m)++e;else if(!--e){h=
b;n=i;break a}++i}}if(null!=h&&h!=d+1)return{from:CodeMirror.Pos(d,a+1),to:CodeMirror.Pos(h,n)}}};
CodeMirror.tagRangeFinder=function(){var j=RegExp("<(/?)([A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*)","g");return function(f,d){function e(){if(!(g>=f.lastLine()))return b=
0,h=f.getLine(++g),!0}function c(){for(var a,d,c;;){if(a=h.indexOf(">",b),-1==a)if(e())continue;else break;return d=h.lastIndexOf("/",a),c=-1<d&&/^\s*$/.test(h.slice(d+1,a)),b=a+1,c?"selfClose":"regular"}}function a(){for(;;){j.lastIndex=b;var a=j.exec(h);if(!a)if(e())continue;else break;return b=a.index+a[0].length,a}}for(var g=d.line,b=d.ch,h=f.getLine(g),n=[],k,i,m;;){if(i=a(),!i||g!=d.line||!(m=c()))return;if(!i[1]&&"selfClose"!=m){n.push(i[2]);k=b;break}}for(;;){var l=a(),p=g,o=b-(l?l[0].length:
0);if(!l||!(m=c()))break;if("selfClose"!=m)if(l[1]){for(i=n.length-1;0<=i;--i)if(n[i]==l[2]){n.length=i;break}if(!n.length)return{from:CodeMirror.Pos(d.line,k),to:CodeMirror.Pos(p,o)}}else n.push(l[2])}}}();
(function(){CodeMirror.defineExtension("autoFormatAll",function(j,f){for(var d=this,e=d.getMode(),c=d.getRange(j,f).split("\n"),a=CodeMirror.copyState(e,d.getTokenAt(j).state),g=d.getOption("tabSize"),b="",h=0,n=0==j.ch,k,i=0;i<c.length;++i){for(k=new CodeMirror.StringStream(c[i],g);!k.eol();){var m=CodeMirror.innerMode(e,a),l=e.token(k,a),p=k.current();k.start=k.pos;(!n||/\S/.test(p))&&(b+=p,n=!1);if(!n&&m.mode.newlineAfterToken&&m.mode.newlineAfterToken(l,p,k.string.slice(k.pos)||c[i+1]||"",m.state))b+=
"\n",n=!0,++h}!k.pos&&e.blankLine&&e.blankLine(a);!n&&i<c.length-1&&(b+="\n",n=!0,++h)}d.operation(function(){d.replaceRange(b,j,f);for(var a=j.line+1,c=j.line+h;a<=c;++a)d.indentLine(a,"smart");d.setCursor({line:0,ch:0})})})})();
(function(){CodeMirror.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(f,d){return/^[;{}]$/.test(d)}});CodeMirror.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(f,d,e,c){return this.jsonMode?/^[\[,{]$/.test(d)||/^}/.test(e):";"==d&&c.lexical&&")"==c.lexical.type?!1:/^[;{}]$/.test(d)&&!/^;/.test(e)}});var j=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;
CodeMirror.extendMode("xml",{commentStart:"<\!--",commentEnd:"--\>",newlineAfterToken:function(f,d,e,c){var a=!1;return"html"==this.configuration&&(a=c.context?j.test(c.context.tagName):!1),!a&&("tag"==f&&/>$/.test(d)&&c.context||/^</.test(e))}});CodeMirror.defineExtension("commentRange",function(f,d,e){var c=this,a=CodeMirror.innerMode(c.getMode(),c.getTokenAt(d).state).mode;c.operation(function(){if(f)c.replaceRange(a.commentEnd,e),c.replaceRange(a.commentStart,d),d.line==e.line&&d.ch==e.ch&&c.setCursor(d.line,
d.ch+a.commentStart.length);else{var g=c.getRange(d,e),b=g.indexOf(a.commentStart),h=g.lastIndexOf(a.commentEnd);-1<b&&-1<h&&h>b&&(g=g.substr(0,b)+g.substring(b+a.commentStart.length,h)+g.substr(h+a.commentEnd.length));c.replaceRange(g,d,e)}})});CodeMirror.defineExtension("autoIndentRange",function(f,d){var e=this;this.operation(function(){for(var c=f.line;c<=d.line;c++)e.indentLine(c,"smart")})});CodeMirror.defineExtension("autoFormatRange",function(f,d){for(var e=this,c=e.getMode(),a=e.getRange(f,
d).split("\n"),g=CodeMirror.copyState(c,e.getTokenAt(f).state),b=e.getOption("tabSize"),h="",j=0,k=0==f.ch,i,m=0;m<a.length;++m){for(i=new CodeMirror.StringStream(a[m],b);!i.eol();){var l=CodeMirror.innerMode(c,g),p=c.token(i,g),o=i.current();i.start=i.pos;(!k||/\S/.test(o))&&(h+=o,k=!1);if(!k&&l.mode.newlineAfterToken&&l.mode.newlineAfterToken(p,o,i.string.slice(i.pos)||a[m+1]||"",l.state))h+="\n",k=!0,++j}!i.pos&&c.blankLine&&c.blankLine(g);!k&&m<a.length-1&&(h+="\n",k=!0,++j)}e.operation(function(){e.replaceRange(h,
f,d);for(var a=f.line+1,b=f.line+j;a<=b;++a)e.indentLine(a,"smart");e.setSelection(f,e.getCursor(!1))})})})();
(function(){function j(a){this.minChars="object"==typeof a&&a.minChars||e;this.style="object"==typeof a&&a.style||c;this.overlay=null}function f(a){a.operation(function(){var c=a._matchHighlightState,b;(c.overlay&&(a.removeOverlay(c.overlay),c.overlay=null),a.somethingSelected())&&((b=a.getSelection().replace(/^\s+|\s+$/g,""),b.length<c.minChars)||a.addOverlay(c.overlay=d(b,c.style)))})}function d(a,c){return{token:function(b){if(b.match(a))return c;b.next();b.skipTo(a.charAt(0))||b.skipToEnd()}}}
var e=2,c="matchhighlight";CodeMirror.defineOption("highlightSelectionMatches",!1,function(a,c,b){var b=b&&b!=CodeMirror.Init,d;if(c&&!b){a._matchHighlightState=new j(c);a.on("cursorActivity",f)}else!c&&b&&(d=a._matchHighlightState.overlay,d&&a.removeOverlay(d),a._matchHighlightState=null,a.off("cursorActivity",f))})})();