(function(b){"object"==typeof exports&&"object"==typeof module?b(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],b):b(CodeMirror)})(function(b){function j(f,a){var e=f.getRange(c(a.line,a.ch-1),c(a.line,a.ch+1));return 2==e.length?e:null}function g(f,a,e){var h=f.getLine(a.line),m=f.getTokenAt(a);if(/\bstring2?\b/.test(m.type))return!1;e=new b.StringStream(h.slice(0,a.ch)+e+h.slice(a.ch),4);for(e.pos=e.start=m.start;;){if(h=f.getMode().token(e,
m.state),e.pos>=a.ch+1)return/\bstring2?\b/.test(h);e.start=e.pos}}function i(f){for(var k={name:"autoCloseBrackets",Backspace:function(e){var l,a,h;if(e.getOption("disableInput"))return b.Pass;l=e.listSelections();for(h=0;h<l.length;h++)if(!l[h].empty()||(a=j(e,l[h].head),!a||0!=f.indexOf(a)%2))return b.Pass;for(h=l.length-1;0<=h;h--)a=l[h].head,e.replaceRange("",c(a.line,a.ch-1),c(a.line,a.ch+1))}},e="",h=0;h<f.length;h+=2)(function(f,l){e=e+l;k["'"+f+"'"]=function(h){var k,d,p,i;if(h.getOption("disableInput"))return b.Pass;
k=h.listSelections();for(i=0;i<k.length;i++){var j=k[i],o=j.head;p=h.getRange(o,c(o.line,o.ch+1));if(j.empty())if(f==l&&p==l)p=h.getRange(o,c(o.line,o.ch+3))==f+f+f?"skipThree":"skip";else if(f==l&&o.ch>1&&h.getRange(c(o.line,o.ch-2),o)==f+f&&(o.ch<=2||h.getRange(c(o.line,o.ch-3),c(o.line,o.ch-2))!=f))p="addFour";else if(f=='"'||f=="'")if(!b.isWordChar(p)&&g(h,o,f))p="both";else return b.Pass;else if(h.getLine(o.line).length==o.ch||e.indexOf(p)>=0||a.test(p))p="both";else return b.Pass;else p="surround";
if(d){if(d!=p)return b.Pass}else d=p}h.operation(function(){var e,a;if(d=="skip")h.execCommand("goCharRight");else if(d=="skipThree")for(a=0;a<3;a++)h.execCommand("goCharRight");else if(d=="surround"){e=h.getSelections();for(a=0;a<e.length;a++)e[a]=f+e[a]+l;h.replaceSelections(e,"around")}else d=="both"?(h.replaceSelection(f+l,null),h.execCommand("goCharLeft")):d=="addFour"&&(h.replaceSelection(f+f+f+f,"before"),h.execCommand("goCharRight"))})};f!=l&&(k["'"+l+"'"]=function(e){for(var f=e.listSelections(),
a,h=0;h<f.length;h++)if(a=f[h],!a.empty()||e.getRange(a.head,c(a.head.line,a.head.ch+1))!=l)return b.Pass;e.execCommand("goCharRight")})})(f.charAt(h),f.charAt(h+1));return k}function d(f){return function(a){var e,h,c;if(a.getOption("disableInput"))return b.Pass;e=a.listSelections();for(h=0;h<e.length;h++)if(!e[h].empty()||(c=j(a,e[h].head),!c||0!=f.indexOf(c)%2))return b.Pass;a.operation(function(){var f,h;a.replaceSelection("\n\n",null);a.execCommand("goCharLeft");e=a.listSelections();for(f=0;f<
e.length;f++)h=e[f].head.line,a.indentLine(h,null,!0),a.indentLine(h+1,null,!0)})}}var a=/\s/,c=b.Pos;b.defineOption("autoCloseBrackets",!1,function(f,a,e){var h,c,l;(e!=b.Init&&e&&f.removeKeyMap("autoCloseBrackets"),a)&&(h="()[]{}''\"\"",c="[]{}",typeof a=="string"?h=a:typeof a=="object"&&(a.pairs!=null&&(h=a.pairs),a.explode!=null&&(c=a.explode)),l=i(h),c&&(l.Enter=d(c)),f.addKeyMap(l))})});
(function(b){"object"==typeof exports&&"object"==typeof module?b(require("../../lib/codemirror"),require("../fold/xml-fold")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../fold/xml-fold"],b):b(CodeMirror)})(function(b){function j(f){var k,e,h,m,l,n;if(f.getOption("disableInput"))return b.Pass;k=f.listSelections();e=[];for(l=0;l<k.length;l++){if(!k[l].empty())return b.Pass;n=k[l].head;m=f.getTokenAt(n);var r=b.innerMode(f.getMode(),m.state),q=r.state;if("xml"!=r.mode.name||
!q.tagName)return b.Pass;var g=f.getOption("autoCloseTags"),j="html"==r.mode.configuration,r="object"==typeof g&&g.dontCloseTags||j&&a,j="object"==typeof g&&g.indentTags||j&&c,g=q.tagName;if(m.end>n.ch&&(g=g.slice(0,g.length-m.end+n.ch)),h=g.toLowerCase(),!g||"string"==m.type&&(m.end!=n.ch||!/[\"\']/.test(m.string.charAt(m.string.length-1))||1==m.string.length)||"tag"==m.type&&"closeTag"==q.type||m.string.indexOf("/")==m.string.length-1||r&&-1<i(r,h)||d(f,g,n,q,!0))return b.Pass;m=j&&-1<i(j,h);e[l]=
{indent:m,text:">"+(m?"\n\n":"")+"</"+g+">",newPos:m?b.Pos(n.line+1,0):b.Pos(n.line,n.ch+1)}}for(l=k.length-1;0<=l;l--)h=e[l],f.replaceRange(h.text,k[l].head,k[l].anchor,"+insert"),n=f.listSelections().slice(0),n[l]={head:h.newPos,anchor:h.newPos},f.setSelections(n),h.indent&&(f.indentLine(h.newPos.line,null,!0),f.indentLine(h.newPos.line+1,null,!0))}function g(a){var c,e,h;if(a.getOption("disableInput"))return b.Pass;c=a.listSelections();e=[];for(h=0;h<c.length;h++){if(!c[h].empty())return b.Pass;
var m=c[h].head,l=a.getTokenAt(m),n=b.innerMode(a.getMode(),l.state),g=n.state;if("string"==l.type||"<"!=l.string.charAt(0)||l.start!=m.ch-1)return b.Pass;if("xml"!=n.mode.name)if("htmlmixed"==a.getMode().name&&"javascript"==n.mode.name)e[h]="/script>";else if("htmlmixed"==a.getMode().name&&"css"==n.mode.name)e[h]="/style>";else return b.Pass;else{if(!g.context||!g.context.tagName||d(a,g.context.tagName,m,g))return b.Pass;e[h]="/"+g.context.tagName+">"}}a.replaceSelections(e);c=a.listSelections();
for(h=0;h<c.length;h++)(h==c.length-1||c[h].head.line<c[h+1].head.line)&&a.indentLine(c[h].head.line)}function i(a,c){if(a.indexOf)return a.indexOf(c);for(var e=0,h=a.length;e<h;++e)if(a[e]==c)return e;return-1}function d(a,c,e,h,d){var l,n,g;if(!b.scanForClosingTag||(l=Math.min(a.lastLine()+1,e.line+500),n=b.scanForClosingTag(a,e,null,l),!n||n.tag!=c))return!1;e=h.context;for(d=d?1:0;e&&e.tagName==c;e=e.prev)++d;e=n.to;for(n=1;n<d;n++){if(g=b.scanForClosingTag(a,e,null,l),!g||g.tag!=c)return!1;e=
g.to}return!0}b.defineOption("autoCloseTags",!1,function(a,c,e){if(e!=b.Init&&e&&a.removeKeyMap("autoCloseTags"),c){e={name:"autoCloseTags"};(typeof c!="object"||c.whenClosing)&&(e["'/'"]=function(a){return g(a)});(typeof c!="object"||c.whenOpening)&&(e["'>'"]=function(a){return j(a)});a.addKeyMap(e)}});var a="area base br col command embed hr img input keygen link meta param source track wbr".split(" "),c="applet blockquote body button div dl fieldset form frameset h1 h2 h3 h4 h5 h6 head html iframe layer legend object ol p select table ul".split(" ")});
(function(){function b(b){var d=b.getCursor(),a=b.getTokenAt(d),c=CodeMirror.innerMode(b.getMode(),a.state).mode,f,g,e,h;if("comment"==a.type&&c.blockCommentStart&&(g=a.string.indexOf(c.blockCommentEnd),e=b.getRange(CodeMirror.Pos(d.line,0),CodeMirror.Pos(d.line,a.end)),-1==g||g!=a.string.length-c.blockCommentEnd.length))if(0==a.string.indexOf(c.blockCommentStart)){if(f=e.slice(0,a.start),!/^\s*$/.test(f)){f="";for(d=0;d<a.start;++d)f+=" "}}else-1!=(h=e.indexOf(c.blockCommentContinue))&&h+c.blockCommentContinue.length>
a.start&&/^\s*$/.test(e.slice(0,h))&&(f=e.slice(0,h));if(null!=f)b.replaceSelection("\n"+f+c.blockCommentContinue,"end");else return CodeMirror.Pass}for(var j=["clike","css","javascript"],g=0;g<j.length;++g)CodeMirror.extendMode(j[g],{blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * "});CodeMirror.defineOption("continueComments",null,function(g,d,a){a&&a!=CodeMirror.Init&&g.removeKeyMap("continueComment");a={name:"continueComment"};a["string"==typeof d?d:"Enter"]=b;g.addKeyMap(a)})})();
(function(b){"object"==typeof exports&&"object"==typeof module?b(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],b):b(CodeMirror)})(function(b){function j(a,h,b,l){var d=a.getLineHandle(h.line),k=h.ch-1,d=0<=k&&f[d.text.charAt(k)]||f[d.text.charAt(++k)],q,j,i;return d?(q=">"==d.charAt(1)?1:-1,b&&0<q!=(k==h.ch))?null:(j=a.getTokenTypeAt(c(h.line,k+1)),i=g(a,c(h.line,k+(0<q?1:0)),q,j||null,l),null==i)?null:{from:c(h.line,k),to:i&&i.pos,match:i&&
i.ch==d.charAt(0),forward:0<q}:null}function g(a,h,b,l,d){for(var g=d&&d.maxScanLineLength||1E4,k=d&&d.maxScanLines||1E3,j=[],d=d&&d.bracketRegex?d.bracketRegex:/[(){}[\]]/,k=0<b?Math.min(h.line+k,a.lastLine()+1):Math.max(a.firstLine()-1,h.line-k),i,s,o,v,w,u=h.line;u!=k;u+=b)if((i=a.getLine(u),i)&&(s=0<b?0:i.length-1,o=0<b?i.length:-1,!(i.length>g)))for(u==h.line&&(s=h.ch-(0>b?1:0));s!=o;s+=b)if(v=i.charAt(s),d.test(v)&&(void 0===l||a.getTokenTypeAt(c(u,s+1))==l))if(w=f[v],">"==w.charAt(1)==0<b)j.push(v);
else if(j.length)j.pop();else return{pos:c(u,s),ch:v};return u-b==(0<b?a.lastLine():a.firstLine())?!1:null}function i(e,f,b){for(var l=e.state.matchBrackets.maxHighlightLineLength||1E3,d=[],g=e.listSelections(),k,i,t=0;t<g.length;t++)(k=g[t].empty()&&j(e,g[t].head,!1,b))&&e.getLine(k.from.line).length<=l&&(i=k.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",d.push(e.markText(k.from,c(k.from.line,k.from.ch+1),{className:i})),k.to&&e.getLine(k.to.line).length<=l&&d.push(e.markText(k.to,
c(k.to.line,k.to.ch+1),{className:i})));if(d.length)if(a&&e.state.focused&&e.display.input.focus(),b=function(){e.operation(function(){for(var a=0;a<d.length;a++)d[a].clear()})},f)setTimeout(b,800);else return b}function d(a){a.operation(function(){k&&(k(),k=null);k=i(a,!1,a.state.matchBrackets)})}var a=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||8>document.documentMode),c=b.Pos,f={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},k=null;b.defineOption("matchBrackets",
!1,function(a,f,c){if(c&&c!=b.Init&&a.off("cursorActivity",d),f){a.state.matchBrackets=typeof f=="object"?f:{};a.on("cursorActivity",d)}});b.defineExtension("matchBrackets",function(){i(this,!0)});b.defineExtension("findMatchingBracket",function(a,f,c){return j(this,a,f,c)});b.defineExtension("scanForBracket",function(a,f,c,l){return g(this,a,f,c,l)})});
(function(b){"object"==typeof exports&&"object"==typeof module?b(require("../../lib/codemirror"),require("../fold/xml-fold")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../fold/xml-fold"],b):b(CodeMirror)})(function(b){function j(b){b.state.tagHit&&b.state.tagHit.clear();b.state.tagOther&&b.state.tagOther.clear();b.state.tagHit=b.state.tagOther=null}function g(d){d.state.failedTagMatch=!1;d.operation(function(){var a,c,f,g,e;(j(d),d.somethingSelected())||(a=d.getCursor(),
c=d.getViewport(),c.from=Math.min(c.from,a.line),c.to=Math.max(a.line+1,c.to),f=b.findMatchingTag(d,a,c),f)&&(d.state.matchBothTags&&(g="open"==f.at?f.open:f.close,g&&(d.state.tagHit=d.markText(g.from,g.to,{className:"CodeMirror-matchingtag"}))),e="close"==f.at?f.open:f.close,e?d.state.tagOther=d.markText(e.from,e.to,{className:"CodeMirror-matchingtag"}):d.state.failedTagMatch=!0)})}function i(b){b.state.failedTagMatch&&g(b)}b.defineOption("matchTags",!1,function(d,a,c){if(c&&c!=b.Init&&(d.off("cursorActivity",
g),d.off("viewportChange",i),j(d)),a){d.state.matchBothTags=typeof a=="object"&&a.bothTags;d.on("cursorActivity",g);d.on("viewportChange",i);g(d)}});b.commands.toMatchingTag=function(d){var a=b.findMatchingTag(d,d.getCursor()),c;a&&(c="close"==a.at?a.open:a.close,c&&d.extendSelection(c.to,c.from))}});
(function(b){"object"==typeof exports&&"object"==typeof module?b(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],b):b(CodeMirror)})(function(b){b.defineOption("showTrailingSpace",!1,function(j,g,i){i==b.Init&&(i=false);i&&!g?j.removeOverlay("trailingspace"):!i&&g&&j.addOverlay({token:function(b){for(var a=b.string.length,c=a;c&&/\s/.test(b.string.charAt(c-1));--c);return c>b.pos?(b.pos=c,null):(b.pos=a,"trailingspace")},name:"trailingspace"})})});
(function(b){"object"==typeof exports&&"object"==typeof module?b(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],b):b(CodeMirror)})(function(b){function j(a,c,f,d){function e(f){var e=h(a,c),b,l;if(!e||e.to.line-e.from.line<j)return null;b=a.findMarksAt(e.from);for(l=0;l<b.length;++l)if(b[l].__isFold&&"fold"!==d){if(!f)return null;e.cleared=!0;b[l].clear()}return e}var h,j,l,n;if(f&&f.call?(h=f,f=null):h=i(a,f,"rangeFinder"),"number"==typeof c&&
(c=b.Pos(c,0)),j=i(a,f,"minFoldSize"),l=e(!0),i(a,f,"scanUp"))for(;!l&&c.line>a.firstLine();)c=b.Pos(c.line-1,0),l=e(!1);l&&(!l.cleared&&"unfold"!==d)&&(f=g(a,f),b.on(f,"mousedown",function(a){n.clear();b.e_preventDefault(a)}),n=a.markText(l.from,l.to,{replacedWith:f,clearOnEnter:!0,__isFold:!0}),n.on("clear",function(f,e){b.signal(a,"unfold",a,f,e)}),b.signal(a,"fold",a,l.from,l.to))}function g(a,b){var f=i(a,b,"widget"),d;return"string"==typeof f&&(d=document.createTextNode(f),f=document.createElement("span"),
f.appendChild(d),f.className="CodeMirror-foldmarker"),f}function i(a,b,f){return b&&void 0!==b[f]?b[f]:(a=a.options.foldOptions)&&void 0!==a[f]?a[f]:d[f]}b.newFoldFunction=function(a,b){return function(f,d){j(f,d,{rangeFinder:a,widget:b})}};b.defineExtension("foldCode",function(a,b,f){j(this,a,b,f)});b.defineExtension("isFolded",function(a){for(var a=this.findMarksAt(a),b=0;b<a.length;++b)if(a[b].__isFold)return!0});b.commands.toggleFold=function(a){a.foldCode(a.getCursor())};b.commands.fold=function(a){a.foldCode(a.getCursor(),
null,"fold")};b.commands.unfold=function(a){a.foldCode(a.getCursor(),null,"unfold")};b.commands.foldAll=function(a){a.operation(function(){for(var c=a.firstLine(),f=a.lastLine();c<=f;c++)a.foldCode(b.Pos(c,0),null,"fold")})};b.commands.unfoldAll=function(a){a.operation(function(){for(var c=a.firstLine(),f=a.lastLine();c<=f;c++)a.foldCode(b.Pos(c,0),null,"unfold")})};b.registerHelper("fold","combine",function(){var a=Array.prototype.slice.call(arguments,0);return function(b,f){for(var d,e=0;e<a.length;++e)if(d=
a[e](b,f),d)return d}});b.registerHelper("fold","auto",function(a,b){for(var f=a.getHelpers(b,"fold"),d,e=0;e<f.length;e++)if(d=f[e](a,b),d)return d});var d={rangeFinder:b.fold.auto,widget:"â†”",minFoldSize:0,scanUp:!1};b.defineOption("foldOptions",null)});
(function(b){"object"==typeof exports&&"object"==typeof module?b(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],b):b(CodeMirror)})(function(b){b.registerHelper("fold","brace",function(j,g){function i(f){for(var e,l=g.ch,h=0;;)if(e=0>=l?-1:a.lastIndexOf(f,l-1),-1==e){if(1==h)break;h=1;l=a.length}else{if(1==h&&e<g.ch)break;if(c=j.getTokenTypeAt(b.Pos(d,e+1)),!/^(comment|string)/.test(c))return e+1;l=e-1}}var d=g.line,a=j.getLine(d),c,f="{",k="}",
e=i("{"),h,m,l,n,r,q,p,t,s;if(null==e&&(f="[",k="]",e=i("[")),null!=e){h=1;m=j.lastLine();r=d;a:for(;r<=m;++r){q=j.getLine(r);for(p=r==d?e:0;!(t=q.indexOf(f,p),s=q.indexOf(k,p),0>t&&(t=q.length),0>s&&(s=q.length),p=Math.min(t,s),p==q.length);){if(j.getTokenTypeAt(b.Pos(r,p+1))==c)if(p==t)++h;else if(!--h){l=r;n=p;break a}++p}}if(null!=l&&(d!=l||n!=e))return{from:b.Pos(d,e),to:b.Pos(l,n)}}});b.registerHelper("fold","import",function(j,g){function i(a){var d,e,h,c;if(a<j.firstLine()||a>j.lastLine()||
(d=j.getTokenAt(b.Pos(a,1)),/\S/.test(d.string)||(d=j.getTokenAt(b.Pos(a,d.end+1))),"keyword"!=d.type||"import"!=d.string))return null;e=a;for(a=Math.min(j.lastLine(),a+10);e<=a;++e)if(h=j.getLine(e),c=h.indexOf(";"),-1!=c)return{startCh:d.end,end:b.Pos(e,c)}}var g=g.line,d=i(g),a,c;if(!d||i(g-1)||(a=i(g-2))&&a.end.line==g-1)return null;for(a=d.end;!(c=i(a.line+1),null==c);)a=c.end;return{from:j.clipPos(b.Pos(g,d.startCh+1)),to:a}});b.registerHelper("fold","include",function(j,g){function i(a){if(a<
j.firstLine()||a>j.lastLine())return null;var d=j.getTokenAt(b.Pos(a,1));return/\S/.test(d.string)||(d=j.getTokenAt(b.Pos(a,d.end+1))),"meta"==d.type&&"#include"==d.string.slice(0,8)?d.start+8:void 0}var g=g.line,d=i(g),a,c;if(null==d||null!=i(g-1))return null;for(a=g;!(c=i(a+1),null==c);)++a;return{from:b.Pos(g,d+1),to:j.clipPos(b.Pos(a))}})});
(function(b){"object"==typeof exports&&"object"==typeof module?b(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],b):b(CodeMirror)})(function(b){function j(a,b,e,f){this.line=b;this.ch=e;this.cm=a;this.text=a.getLine(b);this.min=f?f.from:a.firstLine();this.max=f?f.to-1:a.lastLine()}function g(a,b){var e=a.cm.getTokenTypeAt(h(a.line,b));return e&&/\btag\b/.test(e)}function i(a){if(!(a.line>=a.max))return a.ch=0,a.text=a.cm.getLine(++a.line),!0}
function d(a){if(!(a.line<=a.min))return a.text=a.cm.getLine(--a.line),a.ch=a.text.length,!0}function a(a){for(var b,e,f;;){if(b=a.text.indexOf(">",a.ch),-1==b)if(i(a))continue;else break;if(g(a,b+1))return e=a.text.lastIndexOf("/",b),f=-1<e&&!/\S/.test(a.text.slice(e+1,b)),a.ch=b+1,f?"selfClose":"regular";a.ch=b+1}}function c(a){for(var b,e;;){if(b=a.ch?a.text.lastIndexOf("<",a.ch-1):-1,-1==b)if(d(a))continue;else break;if(g(a,b+1)){if(m.lastIndex=b,a.ch=b,e=m.exec(a.text),e&&e.index==b)return e}else a.ch=
b}}function f(a){for(;;){m.lastIndex=a.ch;var b=m.exec(a.text);if(!b)if(i(a))continue;else break;if(g(a,b.index+1))return a.ch=b.index+b[0].length,b;a.ch=b.index+1}}function k(b,e){for(var d=[],c;;){var g=f(b),i,j=b.line,k=b.ch-(g?g[0].length:0);if(!g||!(i=a(b)))break;if("selfClose"!=i)if(g[1]){for(c=d.length-1;0<=c;--c)if(d[c]==g[2]){d.length=c;break}if(0>c&&(!e||e==g[2]))return{tag:g[2],from:h(j,k),to:h(b.line,b.ch)}}else d.push(g[2])}}function e(a,b){for(var e=[],f,i;;){var j;a:{j=a;for(var k=
void 0,m=i=void 0;;){if(k=j.ch?j.text.lastIndexOf(">",j.ch-1):-1,-1==k)if(d(j))continue;else{j=void 0;break a}if(g(j,k+1)){j=(i=j.text.lastIndexOf("/",k),m=-1<i&&!/\S/.test(j.text.slice(i+1,k)),j.ch=k+1,m?"selfClose":"regular");break a}else j.ch=k}j=void 0}if(f=j,!f)break;if("selfClose"==f)c(a);else{m=a.line;j=a.ch;k=c(a);if(!k)break;if(k[1])e.push(k[2]);else{for(i=e.length-1;0<=i;--i)if(e[i]==k[2]){e.length=i;break}if(0>i&&(!b||b==k[2]))return{tag:k[2],from:h(a.line,a.ch),to:h(m,j)}}}}}var h=b.Pos,
m=RegExp("<(/?)([A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*)","g");b.registerHelper("fold","xml",function(b,e){for(var d=new j(b,e.line,0),c,g,i;!(c=f(d),
!c||d.line!=e.line||!(g=a(d)));)if(!c[1]&&"selfClose"!=g)return e=h(d.line,d.ch),i=k(d,c[2]),i&&{from:e,to:i.from}});b.findMatchingTag=function(b,f,d){var g=new j(b,f.line,f.ch,d),i;if(-1!=g.text.indexOf(">")||-1!=g.text.indexOf("<")){var m=a(g),s=m&&h(g.line,g.ch),o=m&&c(g);if(m&&o&&!(0<(g.line-f.line||g.ch-f.ch)))return(i={from:h(g.line,g.ch),to:s,tag:o[2]},"selfClose"==m)?{open:i,close:null,at:"open"}:o[1]?{open:e(g,o[2]),close:i,at:"close"}:(g=new j(b,s.line,s.ch,d),{open:i,close:k(g,o[2]),at:"open"})}};
b.findEnclosingTag=function(a,b,f){for(var d=new j(a,b.line,b.ch,f),c,h,g;!(c=e(d),!c);)if(h=new j(a,b.line,b.ch,f),g=k(h,c.tag),g)return{open:c,close:g}};b.scanForClosingTag=function(a,b,e,f){a=new j(a,b.line,b.ch,f?{from:0,to:f}:null);return k(a,e)}});
(function(){CodeMirror.defineExtension("autoFormatAll",function(b,j){for(var g=this,i=g.getMode(),d=g.getRange(b,j).split("\n"),a=CodeMirror.copyState(i,g.getTokenAt(b).state),c=g.getOption("tabSize"),f="",k=0,e=0==b.ch,h,m=0;m<d.length;++m){for(h=new CodeMirror.StringStream(d[m],c);!h.eol();){var l=CodeMirror.innerMode(i,a),n=i.token(h,a),r=h.current();h.start=h.pos;(!e||/\S/.test(r))&&(f+=r,e=!1);if(!e&&l.mode.newlineAfterToken&&l.mode.newlineAfterToken(n,r,h.string.slice(h.pos)||d[m+1]||"",l.state))f+=
"\n",e=!0,++k}!h.pos&&i.blankLine&&i.blankLine(a);!e&&m<d.length-1&&(f+="\n",e=!0,++k)}g.operation(function(){g.replaceRange(f,b,j);for(var a=b.line+1,e=b.line+k;a<=e;++a)g.indentLine(a,"smart");g.setCursor({line:0,ch:0})})})})();
(function(){function b(b){for(var g=[/for\s*?\((.*?)\)/g,/&#?[a-z0-9]+;[\s\S]/g,/\"(.*?)((\")|$)/g,/\/\*(.*?)(\*\/|$)/g,/^\/\/.*/g],i=[],d,a,c=0;c<g.length;c++)for(d=0;d<b.length;)if(a=b.substr(d).match(g[c]),null!=a)i.push({start:d+a.index,end:d+a.index+a[0].length}),d+=a.index+Math.max(1,a[0].length);else break;return i.sort(function(a,b){return a.start-b.start}),i}CodeMirror.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(b,g){return/^[;{}]$/.test(g)}});CodeMirror.extendMode("javascript",
{commentStart:"/*",commentEnd:"*/",wordWrapChars:[";","\\{","\\}"],autoFormatLineBreaks:function(j){var g=0,i=this.jsonMode?function(a){return a.replace(/([,{])/g,"$1\n").replace(/}/g,"\n}")}:function(a){return a.replace(/(;|\{|\})([^\r\n;])/g,"$1\n$2")},d=b(j),a="",c;if(null!=d){for(c=0;c<d.length;c++)d[c].start>g&&(a+=i(j.substring(g,d[c].start)),g=d[c].start),d[c].start<=g&&d[c].end>=g&&(a+=j.substring(g,d[c].end),g=d[c].end);g<j.length&&(a+=i(j.substr(g)))}else a=i(j);return a.replace(/^\n*|\n*$/,
"")}});CodeMirror.extendMode("xml",{commentStart:"<\!--",commentEnd:"--\>",noBreak:!1,noBreakEmpty:null,tagType:"",tagName:"",isXML:!1,newlineAfterToken:function(b,g,i){var d=!1,a=null,c="",f;if(this.isXML="xml"==this.configuration?!0:!1,"comment"==b||/<\!--/.test(i))return!1;if("tag"==b){if(0==g.indexOf("<")&&0==!g.indexOf("</")&&(this.tagType="open",a=g.match(/^<\s*?([\w]+?)$/i),this.tagName=null!=a?a[1]:"",c=this.tagName.toLowerCase(),-1!="|label|li|option|textarea|title|a|b|bdi|bdo|big|center|cite|del|em|font|i|img|ins|s|small|span|strike|strong|sub|sup|u|".indexOf("|"+
c+"|")&&(this.noBreak=!0)),0==g.indexOf(">")&&"open"==this.tagType)return(this.tagType="",f=this.isXML?"[^<]*?":"",RegExp("^"+f+"</s*?"+this.tagName+"s*?>","i").test(i))?(this.noBreak=!1,this.isXML||(this.tagName=""),!1):(d=this.noBreak,this.noBreak=!1,d?!1:!0);if(0==g.indexOf("</")&&(this.tagType="close",a=g.match(/^<\/\s*?([\w]+?)$/i),null!=a&&(c=a[1].toLowerCase()),-1!="|a|b|bdi|bdo|big|center|cite|del|em|font|i|img|ins|s|small|span|strike|strong|sub|sup|u|".indexOf("|"+c+"|")&&(this.noBreak=!0)),
0==g.indexOf(">")&&"close"==this.tagType)return(this.tagType="",0==i.indexOf("<")&&(a=i.match(/^<\/?\s*?([\w]+?)(\s|>)/i),c=null!=a?a[1].toLowerCase():"",-1=="|label|li|option|textarea|title|a|b|bdi|bdo|big|center|cite|del|em|font|i|img|ins|s|small|span|strike|strong|sub|sup|u|".indexOf("|"+c+"|")))?(this.noBreak=!1,!0):(d=this.noBreak,this.noBreak=!1,d?!1:!0)}return 0==i.indexOf("<")?(this.noBreak=!1,this.isXML&&""!=this.tagName)?(this.tagName="",!1):(a=i.match(/^<\/?\s*?([\w]+?)(\s|>)/i),c=null!=
a?a[1].toLowerCase():"",-1!="|label|li|option|textarea|title|a|b|bdi|bdo|big|center|cite|del|em|font|i|img|ins|s|small|span|strike|strong|sub|sup|u|".indexOf("|"+c+"|")?!1:!0):!1}});CodeMirror.defineExtension("commentRange",function(b,g,i){var d=this,a=CodeMirror.innerMode(d.getMode(),d.getTokenAt(g).state).mode;d.operation(function(){if(b)d.replaceRange(a.commentEnd,i),d.replaceRange(a.commentStart,g),g.line==i.line&&g.ch==i.ch&&d.setCursor(g.line,g.ch+a.commentStart.length);else{var c=d.getRange(g,
i),f=c.indexOf(a.commentStart),k=c.lastIndexOf(a.commentEnd);-1<f&&-1<k&&k>f&&(c=c.substr(0,f)+c.substring(f+a.commentStart.length,k)+c.substr(k+a.commentEnd.length));d.replaceRange(c,g,i)}})});CodeMirror.defineExtension("autoIndentRange",function(b,g){var i=this;this.operation(function(){for(var d=b.line;d<=g.line;d++)i.indentLine(d,"smart")})});CodeMirror.defineExtension("autoFormatRange",function(b,g){for(var i=this,d=i.getMode(),a=i.getRange(b,g).split("\n"),c=CodeMirror.copyState(d,i.getTokenAt(b).state),
f=i.getOption("tabSize"),k="",e=0,h=0==b.ch,m,l=0;l<a.length;++l){for(m=new CodeMirror.StringStream(a[l],f);!m.eol();){var n=CodeMirror.innerMode(d,c),r=d.token(m,c),q=m.current();m.start=m.pos;(!h||/\S/.test(q))&&(k+=q,h=!1);if(!h&&n.mode.newlineAfterToken&&n.mode.newlineAfterToken(r,q,m.string.slice(m.pos)||a[l+1]||"",n.state))k+="\n",h=!0,++e}!m.pos&&d.blankLine&&d.blankLine(c);!h&&l<a.length-1&&(k+="\n",h=!0,++e)}i.operation(function(){i.replaceRange(k,b,g);for(var a=b.line+1,f=b.line+e;a<=f;++a)i.indentLine(a,
"smart");i.setSelection(b,i.getCursor(!1))})})})();
(function(b){"object"==typeof exports&&"object"==typeof module?b(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],b):b(CodeMirror)})(function(b){function j(b){for(var d=0;d<b.state.activeLines.length;d++)b.removeLineClass(b.state.activeLines[d],"wrap",a),b.removeLineClass(b.state.activeLines[d],"background",c)}function g(a,b){if(a.length!=b.length)return!1;for(var e=0;e<a.length;e++)if(a[e]!=b[e])return!1;return!0}function i(b,d){for(var e=[],
h,i,l=0;l<d.length;l++)(h=d[l],h.empty())&&(i=b.getLineHandleVisualStart(h.head.line),e[e.length-1]!=i&&e.push(i));g(b.state.activeLines,e)||b.operation(function(){j(b);for(var d=0;d<e.length;d++)b.addLineClass(e[d],"wrap",a),b.addLineClass(e[d],"background",c);b.state.activeLines=e})}function d(a,b){i(a,b.ranges)}var a="CodeMirror-activeline",c="CodeMirror-activeline-background";b.defineOption("styleActiveLine",!1,function(a,c,e){e=e&&e!=b.Init;if(c&&!e){a.state.activeLines=[];i(a,a.listSelections());
a.on("beforeSelectionChange",d)}else!c&&e&&(a.off("beforeSelectionChange",d),j(a),delete a.state.activeLines)})});
(function(b){"object"==typeof exports&&"object"==typeof module?b(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],b):b(CodeMirror)})(function(b){function j(b){"object"==typeof b&&(this.minChars=b.minChars,this.style=b.style,this.showToken=b.showToken,this.delay=b.delay,this.wordsOnly=b.wordsOnly);null==this.style&&(this.style=c);null==this.minChars&&(this.minChars=a);null==this.delay&&(this.delay=f);null==this.wordsOnly&&(this.wordsOnly=k);this.overlay=
this.timeout=null}function g(a){var b=a.state.matchHighlighter;clearTimeout(b.timeout);b.timeout=setTimeout(function(){i(a)},b.delay)}function i(a){a.operation(function(){var b=a.state.matchHighlighter,c,f,g;if(b.overlay&&(a.removeOverlay(b.overlay),b.overlay=null),!a.somethingSelected()&&b.showToken){c=!0===b.showToken?/[\w$]/:b.showToken;g=a.getCursor();f=a.getLine(g.line);for(var i=g=g.ch;g&&c.test(f.charAt(g-1));)--g;for(;i<f.length&&c.test(f.charAt(i));)++i;g<i&&a.addOverlay(b.overlay=d(f.slice(g,
i),c,b.style))}else if(c=a.getCursor("from"),f=a.getCursor("to"),c.line==f.line){if(!(i=!b.wordsOnly))var j,k,i=null!==a.getRange(c,f).match(/^\w+$/)?0<c.ch&&(j={line:c.line,ch:c.ch-1},k=a.getRange(j,c),null===k.match(/\W/))?!1:f.ch<a.getLine(c.line).length&&(j={line:f.line,ch:f.ch+1},k=a.getRange(f,j),null===k.match(/\W/))?!1:!0:!1;i&&(g=a.getRange(c,f).replace(/^\s+|\s+$/g,""),g.length>=b.minChars&&a.addOverlay(b.overlay=d(g,!1,b.style)))}})}function d(a,b,d){return{token:function(c){if(c.match(a)&&
(!b||(!c.start||!b.test(c.string.charAt(c.start-1)))&&(c.pos==c.string.length||!b.test(c.string.charAt(c.pos)))))return d;c.next();c.skipTo(a.charAt(0))||c.skipToEnd()}}}var a=2,c="matchhighlight",f=100,k=!1;b.defineOption("highlightSelectionMatches",!1,function(a,d,c){if(c&&c!=b.Init){(c=a.state.matchHighlighter.overlay)&&a.removeOverlay(c);clearTimeout(a.state.matchHighlighter.timeout);a.state.matchHighlighter=null;a.off("cursorActivity",g)}if(d){a.state.matchHighlighter=new j(d);i(a);a.on("cursorActivity",
g)}})});