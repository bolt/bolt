(function(){var v,y,H,s,e,J,K;function a(a,f){for(var e=0;e<f.length;e+=1)if(f[e]===a)return!0;return!1}function Q(a){return a.replace(/^\s+|\s+$/g,"")}function z(a,f){return(new F(a,f)).beautify()}function F(d,f){function w(b,c){var a=0;return b&&(a=b.indentation_level,!i.just_added_newline()&&b.line_indent_level>a&&(a=b.line_indent_level)),{mode:c,parent:b,last_text:b?b.last_text:"",last_word:b?b.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,if_block:!1,else_block:!1,
do_block:!1,do_while:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:a,line_indent_level:b?b.line_indent_level:a,start_line_index:i.get_line_number(),ternary_depth:0}}function k(c){var a=c.newlines,o;if(m.keep_array_indentation&&b.mode===y)for(o=0;o<a;o+=1)n(0<o);else if(m.max_preserve_newlines&&a>m.max_preserve_newlines&&(a=m.max_preserve_newlines),m.preserve_newlines&&1<c.newlines){n();for(o=1;o<a;o+=1)n(!0)}j=c;F[j.type]()}function u(b){if(b=void 0===b?!1:b,!i.just_added_newline())m.preserve_newlines&&
j.wanted_newline||b?n(!1,!0):m.wrap_line_length&&i.current_line.get_character_count()+j.text.length+(i.space_before_token?1:0)>=m.wrap_line_length&&n(!1,!0)}function n(c,a){if(!a&&";"!==b.last_text&&","!==b.last_text&&"="!==b.last_text&&"TK_OPERATOR"!==h)for(;b.mode===v&&!b.if_block&&!b.do_block;)t();i.add_new_line(c)&&(b.multiline_frame=!0)}function q(c){c=c||j.text;if(i.just_added_newline())if(m.keep_array_indentation&&b.mode===y&&j.wanted_newline){i.current_line.push("");for(var a=0;a<j.whitespace_before.length;a+=
1)i.current_line.push(j.whitespace_before[a]);i.space_before_token=!1}else i.add_indent_string(b.indentation_level)&&(b.line_indent_level=b.indentation_level);i.add_token(c)}function D(c){b?(B.push(b),E=b):E=w(null,c);b=w(E,c)}function o(b){return a(b,[H,s,e])}function t(){0<B.length&&(E=b,b=B.pop(),E.mode===v&&i.remove_redundant_indentation(E))}function I(){return b.parent.mode===J&&b.mode===v&&(":"===b.last_text&&0===b.ternary_depth||"TK_RESERVED"===h&&a(b.last_text,["get","set"]))}function A(){var c;
"TK_RESERVED"===h&&a(b.last_text,["var","let","const"])&&"TK_WORD"===j.type||"TK_RESERVED"===h&&"do"===b.last_text||"TK_RESERVED"===h&&"return"===b.last_text&&!j.wanted_newline||"TK_RESERVED"===h&&"else"===b.last_text&&!("TK_RESERVED"===j.type&&"if"===j.text)||"TK_END_EXPR"===h&&(E.mode===s||E.mode===e)||"TK_WORD"===h&&b.mode===K&&!b.in_case&&!("--"===j.text||"++"===j.text)&&"TK_WORD"!==j.type&&"TK_RESERVED"!==j.type||b.mode===J&&(":"===b.last_text&&0===b.ternary_depth||"TK_RESERVED"===h&&a(b.last_text,
["get","set"]))?(D(v),b.indentation_level+=1,c=("TK_RESERVED"===h&&a(b.last_text,["var","let","const"])&&"TK_WORD"===j.type&&(b.declaration_statement=!0),I()||u("TK_RESERVED"===j.type&&a(j.text,["do","for","if","while"])),!0)):c=!1;return c}function c(b){return a(b,"case return do if throw else".split(" "))}function r(b){b=l+(b||0);return 0>b||b>=g.length?null:g[b]}function p(){var g,d;if("TK_RESERVED"===j.type&&b.mode!==J&&a(j.text,["set","get"])&&(j.type="TK_WORD"),"TK_RESERVED"===j.type&&b.mode===
J&&(g=r(1),":"==g.text&&(j.type="TK_WORD")),A()||!j.wanted_newline||o(b.mode)||"TK_OPERATOR"===h&&"--"!==b.last_text&&"++"!==b.last_text||"TK_EQUALS"===h||!m.preserve_newlines&&"TK_RESERVED"===h&&a(b.last_text,["var","let","const","set","get"])||n(),b.do_block&&!b.do_while){if("TK_RESERVED"===j.type&&"while"===j.text){i.space_before_token=!0;q();i.space_before_token=!0;b.do_while=!0;return}n();b.do_block=!1}if(b.if_block)if(b.else_block||"TK_RESERVED"!==j.type||"else"!==j.text){for(;b.mode===v;)t();
b.if_block=!1;b.else_block=!1}else b.else_block=!0;if("TK_RESERVED"===j.type&&("case"===j.text||"default"===j.text&&b.in_case_statement)){n();if(b.case_body||m.jslint_happy)0<b.indentation_level&&(!b.parent||b.indentation_level>b.parent.indentation_level)&&(b.indentation_level-=1),b.case_body=!1;q();b.in_case=!0;b.in_case_statement=!0}else("TK_RESERVED"===j.type&&"function"===j.text&&((a(b.last_text,["}",";"])||i.just_added_newline()&&!a(b.last_text,["[","{",":","=",","]))&&(i.just_added_blankline()||
j.comments_before.length||(n(),n(!0))),"TK_RESERVED"===h||"TK_WORD"===h?"TK_RESERVED"===h&&a(b.last_text,["get","set","new","return","export"])?i.space_before_token=!0:"TK_RESERVED"===h&&"default"===b.last_text&&"export"===x?i.space_before_token=!0:n():"TK_OPERATOR"===h||"="===b.last_text?i.space_before_token=!0:!b.multiline_frame&&(o(b.mode)||b.mode===y)||n()),("TK_COMMA"===h||"TK_START_EXPR"===h||"TK_EQUALS"===h||"TK_OPERATOR"===h)&&(I()||u()),"TK_RESERVED"===j.type&&a(j.text,["function","get",
"set"]))?(q(),b.last_word=j.text):(C="NONE","TK_END_BLOCK"===h?"TK_RESERVED"===j.type&&a(j.text,["else","catch","finally"])?"expand"===m.brace_style||"end-expand"===m.brace_style?C="NEWLINE":(C="SPACE",i.space_before_token=!0):C="NEWLINE":"TK_SEMICOLON"===h&&b.mode===K?C="NEWLINE":"TK_SEMICOLON"===h&&o(b.mode)?C="SPACE":"TK_STRING"===h?C="NEWLINE":"TK_RESERVED"===h||"TK_WORD"===h||"*"===b.last_text&&"function"===x?C="SPACE":"TK_START_BLOCK"===h?C="NEWLINE":"TK_END_EXPR"===h&&(i.space_before_token=
!0,C="NEWLINE"),"TK_RESERVED"===j.type&&a(j.text,L.line_starters)&&")"!==b.last_text&&(C="else"===b.last_text||"export"===b.last_text?"SPACE":"NEWLINE"),"TK_RESERVED"===j.type&&a(j.text,["else","catch","finally"])?"TK_END_BLOCK"!==h||"expand"===m.brace_style||"end-expand"===m.brace_style?n():(i.trim(!0),d=i.current_line,"}"!==d.last()&&n(),i.space_before_token=!0):"NEWLINE"===C?"TK_RESERVED"===h&&c(b.last_text)?i.space_before_token=!0:"TK_END_EXPR"!==h?"TK_START_EXPR"===h&&"TK_RESERVED"===j.type&&
a(j.text,["var","let","const"])||":"===b.last_text||("TK_RESERVED"===j.type&&"if"===j.text&&"else"===b.last_text?i.space_before_token=!0:n()):"TK_RESERVED"===j.type&&a(j.text,L.line_starters)&&")"!==b.last_text&&n():b.multiline_frame&&b.mode===y&&","===b.last_text&&"}"===x?n():"SPACE"===C&&(i.space_before_token=!0),q(),b.last_word=j.text,"TK_RESERVED"===j.type&&"do"===j.text&&(b.do_block=!0),"TK_RESERVED"===j.type&&"if"===j.text&&(b.if_block=!0))}var i,g=[],l,L,j,h,x,z,b,E,B,C,F,m,G="",M;F={TK_START_EXPR:function(){A();
var c=H;if("["===j.text){if("TK_WORD"===h||")"===b.last_text){"TK_RESERVED"===h&&a(b.last_text,L.line_starters)&&(i.space_before_token=!0);D(c);q();b.indentation_level+=1;m.space_in_paren&&(i.space_before_token=!0);return}c=y;b.mode===y&&("["===b.last_text||","===b.last_text&&("]"===x||"}"===x))&&(m.keep_array_indentation||n())}else"TK_RESERVED"===h&&"for"===b.last_text?c=s:"TK_RESERVED"===h&&a(b.last_text,["if","while"])&&(c=e);";"===b.last_text||"TK_START_BLOCK"===h?n():"TK_END_EXPR"===h||"TK_START_EXPR"===
h||"TK_END_BLOCK"===h||"."===b.last_text?u(j.wanted_newline):"TK_RESERVED"===h&&"("===j.text||"TK_WORD"===h||"TK_OPERATOR"===h?"TK_RESERVED"===h&&("function"===b.last_word||"typeof"===b.last_word)||"*"===b.last_text&&"function"===x?m.space_after_anon_function&&(i.space_before_token=!0):"TK_RESERVED"===h&&(a(b.last_text,L.line_starters)||"catch"===b.last_text)&&m.space_before_conditional&&(i.space_before_token=!0):i.space_before_token=!0;"("===j.text&&("TK_EQUALS"===h||"TK_OPERATOR"===h)&&(I()||u());
D(c);q();m.space_in_paren&&(i.space_before_token=!0);b.indentation_level+=1},TK_END_EXPR:function(){for(;b.mode===v;)t();b.multiline_frame&&u("]"===j.text&&b.mode===y&&!m.keep_array_indentation);m.space_in_paren&&("TK_START_EXPR"!==h||m.space_in_empty_paren?i.space_before_token=!0:(i.trim(),i.space_before_token=!1));"]"===j.text&&m.keep_array_indentation?(q(),t()):(t(),q());i.remove_redundant_indentation(E);b.do_while&&E.mode===e&&(E.mode=H,b.do_block=!1,b.do_while=!1)},TK_START_BLOCK:function(){var o=
r(1),g=r(2);g&&(":"===g.text&&a(o.type,["TK_STRING","TK_WORD","TK_RESERVED"])||a(o.text,["get","set"])&&a(g.type,["TK_WORD","TK_RESERVED"]))?a(x,["class","interface"])?D(K):D(J):D(K);o=!o.comments_before.length&&"}"===o.text&&"function"===b.last_word&&"TK_END_EXPR"===h;"expand"===m.brace_style?"TK_OPERATOR"!==h&&(o||"TK_EQUALS"===h||"TK_RESERVED"===h&&c(b.last_text)&&"else"!==b.last_text)?i.space_before_token=!0:n(!1,!0):"TK_OPERATOR"!==h&&"TK_START_EXPR"!==h?"TK_START_BLOCK"===h?n():i.space_before_token=
!0:E.mode===y&&","===b.last_text&&("}"===x?i.space_before_token=!0:n());q();b.indentation_level+=1},TK_END_BLOCK:function(){for(;b.mode===v;)t();var c="TK_START_BLOCK"===h;"expand"===m.brace_style?c||n():c||(b.mode===y&&m.keep_array_indentation?(m.keep_array_indentation=!1,n(),m.keep_array_indentation=!0):n());t();q()},TK_WORD:p,TK_RESERVED:p,TK_SEMICOLON:function(){for(A()&&(i.space_before_token=!1);b.mode===v&&!b.if_block&&!b.do_block;)t();q()},TK_STRING:function(){A()?i.space_before_token=!0:"TK_RESERVED"===
h||"TK_WORD"===h?i.space_before_token=!0:"TK_COMMA"===h||"TK_START_EXPR"===h||"TK_EQUALS"===h||"TK_OPERATOR"===h?I()||u():n();q()},TK_EQUALS:function(){A();b.declaration_statement&&(b.declaration_assignment=!0);i.space_before_token=!0;q();i.space_before_token=!0},TK_OPERATOR:function(){if(A(),"TK_RESERVED"===h&&c(b.last_text))i.space_before_token=!0,q();else if("*"===j.text&&"TK_DOT"===h)q();else if(":"===j.text&&b.in_case)b.case_body=!0,b.indentation_level+=1,q(),n(),b.in_case=!1;else if("::"===
j.text)q();else{j.wanted_newline&&("--"===j.text||"++"===j.text)&&n(!1,!0);"TK_OPERATOR"===h&&u();var g=!0,d=!0;a(j.text,["--","++","!","~"])||a(j.text,["-","+"])&&(a(h,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||a(b.last_text,L.line_starters)||","===b.last_text)?(g=!1,d=!1,";"===b.last_text&&o(b.mode)&&(g=!0),"TK_RESERVED"===h||"TK_END_EXPR"===h?g=!0:"TK_OPERATOR"===h&&(g=a(j.text,["--","-"])&&a(b.last_text,["--","-"])||a(j.text,["++","+"])&&a(b.last_text,["++","+"])),(b.mode===
K||b.mode===v)&&("{"===b.last_text||";"===b.last_text)&&n()):":"===j.text?0===b.ternary_depth?g=!1:b.ternary_depth-=1:"?"===j.text?b.ternary_depth+=1:"*"===j.text&&"TK_RESERVED"===h&&"function"===b.last_text&&(g=!1,d=!1);i.space_before_token=i.space_before_token||g;q();i.space_before_token=d}},TK_COMMA:function(){b.declaration_statement?(o(b.parent.mode)&&(b.declaration_assignment=!1),q(),b.declaration_assignment?(b.declaration_assignment=!1,n(!1,!0)):i.space_before_token=!0):(q(),b.mode===J||b.mode===
v&&b.parent.mode===J?(b.mode===v&&t(),n()):i.space_before_token=!0)},TK_BLOCK_COMMENT:function(){var b;b=j.text;b=b.replace(/\x0d/g,"");for(var c=[],a=b.indexOf("\n");-1!==a;)c.push(b.substring(0,a)),b=b.substring(a+1),a=b.indexOf("\n");b=(b.length&&c.push(b),c);var o,a=c=!1,g=j.whitespace_before.join(""),h=g.length;n(!1,!0);if(1<b.length){var d;a:{for(var t=b.slice(1),p=0;p<t.length;p++)if(d=Q(t[p]),"*"!==d.charAt(0)){d=!1;break a}d=!0}if(d)c=!0;else{a:{d=b.slice(1);t=0;for(p=d.length;t<p;t++)if(o=
d[t],o&&0!==o.indexOf(g)){o=!1;break a}o=!0}o&&(a=!0)}}q(b[0]);for(o=1;o<b.length;o++)n(!1,!0),c?q(" "+Q(b[o])):a&&b[o].length>h?q(b[o].substring(h)):i.add_token(b[o]);n(!1,!0)},TK_INLINE_COMMENT:function(){i.space_before_token=!0;q();i.space_before_token=!0},TK_COMMENT:function(){j.wanted_newline?n(!1,!0):i.trim(!0);i.space_before_token=!0;q();n(!1,!0)},TK_DOT:function(){A();"TK_RESERVED"===h&&c(b.last_text)?i.space_before_token=!0:u(")"===b.last_text&&m.break_chained_methods);q()},TK_UNKNOWN:function(){q();
"\n"===j.text[j.text.length-1]&&n()},TK_EOF:function(){for(;b.mode===v;)t()}};f=f?f:{};m={};void 0!==f.braces_on_own_line&&(m.brace_style=f.braces_on_own_line?"expand":"collapse");m.brace_style=f.brace_style?f.brace_style:m.brace_style?m.brace_style:"collapse";"expand-strict"===m.brace_style&&(m.brace_style="expand");m.indent_size=f.indent_size?parseInt(f.indent_size,10):4;m.indent_char=f.indent_char?f.indent_char:" ";m.preserve_newlines=void 0===f.preserve_newlines?!0:f.preserve_newlines;m.break_chained_methods=
void 0===f.break_chained_methods?!1:f.break_chained_methods;m.max_preserve_newlines=void 0===f.max_preserve_newlines?0:parseInt(f.max_preserve_newlines,10);m.space_in_paren=void 0===f.space_in_paren?!1:f.space_in_paren;m.space_in_empty_paren=void 0===f.space_in_empty_paren?!1:f.space_in_empty_paren;m.jslint_happy=void 0===f.jslint_happy?!1:f.jslint_happy;m.space_after_anon_function=void 0===f.space_after_anon_function?!1:f.space_after_anon_function;m.keep_array_indentation=void 0===f.keep_array_indentation?
!1:f.keep_array_indentation;m.space_before_conditional=void 0===f.space_before_conditional?!0:f.space_before_conditional;m.unescape_strings=void 0===f.unescape_strings?!1:f.unescape_strings;m.wrap_line_length=void 0===f.wrap_line_length?0:parseInt(f.wrap_line_length,10);m.e4x=void 0===f.e4x?!1:f.e4x;m.end_with_newline=void 0===f.end_with_newline?!1:f.end_with_newline;m.jslint_happy&&(m.space_after_anon_function=!0);f.indent_with_tabs&&(m.indent_char="\t",m.indent_size=1);for(z="";0<m.indent_size;)z+=
m.indent_char,m.indent_size-=1;if(M=0,d&&d.length){for(;" "===d.charAt(M)||"\t"===d.charAt(M);)G+=d.charAt(M),M+=1;d=d.substring(M)}h="TK_START_BLOCK";x="";i=new O(z,G);B=[];D(K);this.beautify=function(){var c,a,o;L=new N(d,m,z);g=L.tokenize();for(l=0;c=r();){for(o=0;o<c.comments_before.length;o++)k(c.comments_before[o]);k(c);x=b.last_text;h=c.type;b.last_text=c.text;l+=1}return a=i.get_code(),m.end_with_newline&&(a+="\n"),a}}function P(){var a=0,f=[];this.get_character_count=function(){return a};
this.get_item_count=function(){return f.length};this.get_output=function(){return f.join("")};this.last=function(){return f.length?f[f.length-1]:null};this.push=function(e){f.push(e);a+=e.length};this.remove_indent=function(e,k){var u=0;0!==f.length&&(k&&f[0]===k&&(u=1),f[u]===e&&(a-=f[u].length,f.splice(u,1)))};this.trim=function(e,k){for(;this.get_item_count()&&(" "===this.last()||this.last()===e||this.last()===k);){var u=f.pop();a-=u.length}}}function O(a,f){var w=[];this.baseIndentString=f;this.current_line=
null;this.space_before_token=!1;this.get_line_number=function(){return w.length};this.add_new_line=function(a){return 1===this.get_line_number()&&this.just_added_newline()?!1:a||!this.just_added_newline()?(this.current_line=new P,w.push(this.current_line),!0):!1};this.add_new_line(!0);this.get_code=function(){for(var a=w[0].get_output(),d=1;d<w.length;d++)a+="\n"+w[d].get_output();return a.replace(/[\r\n\t ]+$/,"")};this.add_indent_string=function(e){if(f&&this.current_line.push(f),1<w.length){for(var u=
0;u<e;u+=1)this.current_line.push(a);return!0}return!1};this.add_token=function(a){this.add_space_before_token();this.current_line.push(a)};this.add_space_before_token=function(){if(this.space_before_token&&this.current_line.get_item_count()){var e=this.current_line.last();" "!==e&&e!==a&&e!==f&&this.current_line.push(" ")}this.space_before_token=!1};this.remove_redundant_indentation=function(k){if(!k.multiline_frame&&k.mode!==s&&k.mode!==e)for(var k=k.start_line_index,u=w.length;k<u;)w[k].remove_indent(a,
f),k++};this.trim=function(e){e=void 0===e?!1:e;for(this.current_line.trim(a,f);e&&1<w.length&&0===this.current_line.get_item_count();)w.pop(),this.current_line=w[w.length-1],this.current_line.trim(a,f)};this.just_added_newline=function(){return 0===this.current_line.get_item_count()};this.just_added_blankline=function(){return this.just_added_newline()?1===w.length?!0:0===w[w.length-2].get_item_count():!1}}function N(d,f,e){function k(){var p,i,g,l,k,j;if(o=0,t=[],c>=r)return["","TK_EOF"];i=A.length?
A[A.length-1]:new G("TK_START_BLOCK","{");g=d.charAt(c);for(c+=1;a(g,u);){if("\n"===g?(o+=1,t=[]):o&&(g===e?t.push(e):"\r"!==g&&t.push(" ")),c>=r)return["","TK_EOF"];g=d.charAt(c);c+=1}if(n.test(g)){j=i=!0;l=n;for("0"===g&&c<r&&/[Xx]/.test(d.charAt(c))?(i=!1,j=!1,g+=d.charAt(c),c+=1,l=/[0123456789abcdefABCDEF]/):(g="",c-=1);c<r&&l.test(d.charAt(c));)g+=d.charAt(c),c+=1,i&&c<r&&"."===d.charAt(c)&&(g+=d.charAt(c),c+=1,i=!1),j&&c<r&&/[Ee]/.test(d.charAt(c))&&(g+=d.charAt(c),c+=1,c<r&&/[+-]/.test(d.charAt(c))&&
(g+=d.charAt(c),c+=1),j=!1,i=!1);return[g,"TK_WORD"]}if(B.isIdentifierStart(d.charCodeAt(c-1))){if(c<r)for(;B.isIdentifierChar(d.charCodeAt(c))&&!(g+=d.charAt(c),c+=1,c===r););return!("TK_DOT"===i.type||"TK_RESERVED"===i.type&&a(i.text,["set","get"]))&&a(g,s)?"in"===g?[g,"TK_OPERATOR"]:[g,"TK_RESERVED"]:[g,"TK_WORD"]}if("("===g||"["===g)return[g,"TK_START_EXPR"];if(")"===g||"]"===g)return[g,"TK_END_EXPR"];if("{"===g)return[g,"TK_START_BLOCK"];if("}"===g)return[g,"TK_END_BLOCK"];if(";"===g)return[g,
"TK_SEMICOLON"];if("/"===g){if(l="",k=!0,"*"===d.charAt(c)){if(c+=1,c<r)for(;c<r&&!("*"===d.charAt(c)&&d.charAt(c+1)&&"/"===d.charAt(c+1))&&!(g=d.charAt(c),l+=g,("\n"===g||"\r"===g)&&(k=!1),c+=1,c>=r););return c+=2,k&&0===o?["/*"+l+"*/","TK_INLINE_COMMENT"]:["/*"+l+"*/","TK_BLOCK_COMMENT"]}if("/"===d.charAt(c)){for(l=g;"\r"!==d.charAt(c)&&"\n"!==d.charAt(c)&&!(l+=d.charAt(c),c+=1,c>=r););return[l,"TK_COMMENT"]}}if("`"===g||"'"===g||'"'===g||("/"===g||f.e4x&&"<"===g&&d.slice(c-1).match(/^<([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])\s*([-a-zA-Z:0-9_.]+=('[^']*'|"[^"]*"|{[^{}]*})\s*)*\/?\s*>/))&&
("TK_RESERVED"===i.type&&a(i.text,"return case throw else do typeof yield".split(" "))||"TK_END_EXPR"===i.type&&")"===i.text&&i.parent&&"TK_RESERVED"===i.parent.type&&a(i.parent.text,["if","while","for"])||a(i.type,"TK_COMMENT TK_START_EXPR TK_START_BLOCK TK_END_BLOCK TK_OPERATOR TK_EQUALS TK_EOF TK_SEMICOLON TK_COMMA".split(" ")))){i=g;var h=l=!1;if(p=g,"/"===i)for(j=!1;c<r&&(l||j||d.charAt(c)!==i)&&!B.newline.test(d.charAt(c));)p+=d.charAt(c),l?l=!1:(l="\\"===d.charAt(c),"["===d.charAt(c)?j=!0:
"]"===d.charAt(c)&&(j=!1)),c+=1;else if(f.e4x&&"<"===i){if(g=/<(\/?)([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])\s*([-a-zA-Z:0-9_.]+=('[^']*'|"[^"]*"|{[^{}]*})\s*)*(\/?)\s*>/g,l=d.slice(c-1),(k=g.exec(l))&&0===k.index){i=k[2];for(p=0;k;){var h=!!k[1],x=k[2],v=!!k[k.length-1]||"![CDATA["===x.slice(0,8);if(x!==i||v||(h?--p:++p),0>=p)break;k=g.exec(l)}return j=k?k.index+k[0].length:l.length,c+=j-1,[l.slice(0,j),"TK_STRING"]}}else for(;c<r&&(l||d.charAt(c)!==i&&("`"===i||!B.newline.test(d.charAt(c))));)p+=
d.charAt(c),l?(("x"===d.charAt(c)||"u"===d.charAt(c))&&(h=!0),l=!1):l="\\"===d.charAt(c),c+=1;if(h&&f.unescape_strings){a:{j=p;g=!1;l="";k=0;p="";for(h=0;g||k<j.length;)if(x=j.charAt(k),k++,g){if(g=!1,"x"===x)p=j.substr(k,2),k+=2;else if("u"===x)p=j.substr(k,4),k+=4;else{l+="\\"+x;continue}if(!p.match(/^[0123456789abcdefABCDEF]+$/))break a;if(h=parseInt(p,16),0<=h&&32>h)l+="x"===x?"\\x"+p:"\\u"+p;else if(34===h||39===h||92===h)l+="\\"+String.fromCharCode(h);else{if("x"===x&&126<h&&255>=h)break a;
l+=String.fromCharCode(h)}}else"\\"===x?g=!0:l+=x;j=l}p=j}if(c<r&&d.charAt(c)===i&&(p+=i,c+=1,"/"===i))for(;c<r&&B.isIdentifierStart(d.charCodeAt(c));)p+=d.charAt(c),c+=1;return[p,"TK_STRING"]}if("#"===g){if(0===A.length&&"!"===d.charAt(c)){for(p=g;c<r&&"\n"!==g;)g=d.charAt(c),p+=g,c+=1;return[Q(p)+"\n","TK_UNKNOWN"]}if(i="#",c<r&&n.test(d.charAt(c))){do g=d.charAt(c),i+=g,c+=1;while(c<r&&"#"!==g&&"="!==g);return"#"===g||("["===d.charAt(c)&&"]"===d.charAt(c+1)?(i+="[]",c+=2):"{"===d.charAt(c)&&"}"===
d.charAt(c+1)&&(i+="{}",c+=2)),[i,"TK_WORD"]}}if("<"===g&&"<\!--"===d.substring(c-1,c+3)){c+=3;for(g="<\!--";"\n"!==d.charAt(c)&&c<r;)g+=d.charAt(c),c++;return I=!0,[g,"TK_COMMENT"]}if("-"===g&&I&&"--\>"===d.substring(c-1,c+2))return I=!1,c+=2,["--\>","TK_COMMENT"];if("."===g)return[g,"TK_DOT"];if(a(g,q)){for(;c<r&&a(g+d.charAt(c),q)&&!(g+=d.charAt(c),c+=1,c>=r););return","===g?[g,"TK_COMMA"]:"="===g?[g,"TK_EQUALS"]:[g,"TK_OPERATOR"]}return[g,"TK_UNKNOWN"]}var u=["\n","\r","\t"," "],n=/[0-9]/,q="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! ~ , : ? ^ ^= |= :: => <%= <% %> <?= <? ?>".split(" "),
s,o,t,I,A,c,r;this.line_starters="continue try throw return var let const if switch case default for while break function yield import export".split(" ");s=this.line_starters.concat("do in else get set new catch finally typeof".split(" "));this.tokenize=function(){r=d.length;c=0;I=!1;A=[];for(var a,i,g=null,f=[],e=[];!(i&&"TK_EOF"===i.type);){a=k();for(a=new G(a[1],a[0],o,t);"TK_INLINE_COMMENT"===a.type||"TK_COMMENT"===a.type||"TK_BLOCK_COMMENT"===a.type||"TK_UNKNOWN"===a.type;)e.push(a),a=k(),a=
new G(a[1],a[0],o,t);e.length&&(a.comments_before=e,e=[]);"TK_START_BLOCK"===a.type||"TK_START_EXPR"===a.type?(a.parent=i,g=a,f.push(a)):("TK_END_BLOCK"===a.type||"TK_END_EXPR"===a.type)&&g&&("]"===a.text&&"["===g.text||")"===a.text&&"("===g.text||"}"===a.text&&"}"===g.text)&&(a.parent=g.parent,g=f.pop());A.push(a);i=a}return A}}var B={},G;(function(a){var f=RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),
e=RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿]");
a.newline=/[\n\r\u2028\u2029]/;a.isIdentifierStart=function(a){return 65>a?36===a:91>a?!0:97>a?95===a:123>a?!0:170<=a&&f.test(String.fromCharCode(a))};a.isIdentifierChar=function(a){return 48>a?36===a:58>a?!0:65>a?!1:91>a?!0:97>a?95===a:123>a?!0:170<=a&&e.test(String.fromCharCode(a))}})(B);K="BlockStatement";v="Statement";J="ObjectLiteral";y="ArrayLiteral";s="ForInitializer";e="Conditional";H="Expression";G=function(a,e,s,k){this.type=a;this.text=e;this.comments_before=[];this.newlines=s||0;this.wanted_newline=
0<s;this.whitespace_before=k||[];this.parent=null};"function"==typeof define&&define.amd?define([],function(){return{js_beautify:z}}):"undefined"!=typeof exports?exports.js_beautify=z:"undefined"!=typeof window?window.js_beautify=z:"undefined"!=typeof global&&(global.js_beautify=z)})();
(function(){function v(s,e,v,y){var a,H,z,F,P,O,N,B,G,d,f,w,k,u,n,q,D,e=e||{};(void 0===e.wrap_line_length||0===parseInt(e.wrap_line_length,10))&&void 0!==e.max_char&&0!==parseInt(e.max_char,10)&&(e.wrap_line_length=e.max_char);H=void 0===e.indent_inner_html?!1:e.indent_inner_html;z=void 0===e.indent_size?4:parseInt(e.indent_size,10);F=void 0===e.indent_char?" ":e.indent_char;O=void 0===e.brace_style?"collapse":e.brace_style;P=0===parseInt(e.wrap_line_length,10)?32786:parseInt(e.wrap_line_length||
250,10);N=e.unformatted||"a span img bdo em strong dfn code samp kbd var cite abbr acronym q sub sup tt i b big small u s strike font ins del pre address dt h1 h2 h3 h4 h5 h6".split(" ");G=(B=void 0===e.preserve_newlines?!0:e.preserve_newlines)?isNaN(parseInt(e.max_preserve_newlines,10))?32786:parseInt(e.max_preserve_newlines,10):0;d=void 0===e.indent_handlebars?!1:e.indent_handlebars;f=void 0===e.end_with_newline?!1:e.end_with_newline;a=new function(){return this.pos=0,this.token="",this.current_mode=
"CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.newlines=0,this.indent_content=H,this.Utils={whitespace:["\n","\r","\t"," "],single_token:"br input link meta !doctype basefont base area hr wbr param img isindex ?xml embed ?php ? ?=".split(" "),extra_liners:["head","body","/html"],in_array:function(a,t){for(var d=0;d<t.length;d++)if(a===t[d])return!0;return!1}},this.is_whitespace=function(a){for(;0<
a.length;a++)if(!this.Utils.in_array(a.charAt(0),this.Utils.whitespace))return!1;return!0},this.traverse_whitespace=function(){var a="";if(a=this.input.charAt(this.pos),this.Utils.in_array(a,this.Utils.whitespace)){for(this.newlines=0;this.Utils.in_array(a,this.Utils.whitespace);)B&&"\n"===a&&this.newlines<=G&&(this.newlines+=1),this.pos++,a=this.input.charAt(this.pos);return!0}return!1},this.space_or_wrap=function(a){this.line_char_count>=this.wrap_line_length?(this.print_newline(!1,a),this.print_indentation(a)):
(this.line_char_count++,a.push(" "))},this.get_content=function(){for(var a="",t=[],e;"<"!==this.input.charAt(this.pos);){if(this.pos>=this.input.length)return t.length?t.join(""):["","TK_EOF"];if(this.traverse_whitespace())this.space_or_wrap(t);else{if(d)if(e=this.input.substr(this.pos,3),"{{#"===e||"{{/"===e)break;else if("{{"===this.input.substr(this.pos,2)&&"{{else}}"===this.get_tag(!0))break;a=this.input.charAt(this.pos);this.pos++;this.line_char_count++;t.push(a)}}return t.length?t.join(""):
""},this.get_contents_to=function(a){var d,e;if(this.pos===this.input.length)return["","TK_EOF"];a=RegExp("</"+a+"\\s*>","igm");return a.lastIndex=this.pos,d=a.exec(this.input),e=d?d.index:this.input.length,this.pos<e&&(this.input.substring(this.pos,e),this.pos=e),""},this.record_tag=function(a){this.tags[a+"count"]?(this.tags[a+"count"]++,this.tags[a+this.tags[a+"count"]]=this.indent_level):(this.tags[a+"count"]=1,this.tags[a+this.tags[a+"count"]]=this.indent_level);this.tags[a+this.tags[a+"count"]+
"parent"]=this.tags.parent;this.tags.parent=a+this.tags[a+"count"]},this.retrieve_tag=function(a){if(this.tags[a+"count"]){for(var d=this.tags.parent;d&&a+this.tags[a+"count"]!==d;)d=this.tags[d+"parent"];d&&(this.indent_level=this.tags[a+this.tags[a+"count"]],this.tags.parent=this.tags[d+"parent"]);delete this.tags[a+this.tags[a+"count"]+"parent"];delete this.tags[a+this.tags[a+"count"]];1===this.tags[a+"count"]?delete this.tags[a+"count"]:this.tags[a+"count"]--}},this.indent_to_tag=function(a){if(this.tags[a+
"count"]){for(var d=this.tags.parent;d&&a+this.tags[a+"count"]!==d;)d=this.tags[d+"parent"];d&&(this.indent_level=this.tags[a+this.tags[a+"count"]])}},this.get_tag=function(a){var e="",f=[],k="",c=!1,r,p,i=this.pos,g=this.line_char_count,l,n,j,h,a=void 0!==a?a:!1;do{if(this.pos>=this.input.length)return a&&(this.pos=i,this.line_char_count=g),f.length?f.join(""):["","TK_EOF"];if(e=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(e,this.Utils.whitespace))c=!0;else{if(("'"===e||'"'===e)&&(e+=
this.get_unformatted(e),c=!0),"="===e&&(c=!1),f.length&&"="!==f[f.length-1]&&">"!==e&&c&&(this.space_or_wrap(f),c=!1),d&&"<"===p&&"{{"===e+this.input.charAt(this.pos)&&(e+=this.get_unformatted("}}"),f.length&&" "!==f[f.length-1]&&"<"!==f[f.length-1]&&(e=" "+e),c=!0),"<"!==e||p||(r=this.pos-1,p="<"),d&&!p&&2<=f.length&&"{"===f[f.length-1]&&"{"==f[f.length-2]&&(r="#"===e||"/"===e?this.pos-3:this.pos-2,p="{"),this.line_char_count++,f.push(e),f[1]&&"!"===f[1]){f=[this.get_comment(r)];break}if(d&&"{"===
p&&2<f.length&&"}"===f[f.length-2]&&"}"===f[f.length-1])break}}while(">"!==e);return l=f.join(""),n=-1!==l.indexOf(" ")?l.indexOf(" "):"{"===l[0]?l.indexOf("}"):l.indexOf(">"),j="<"!==l[0]&&d?"#"===l[2]?3:2:1,h=l.substring(j,n).toLowerCase(),"/"===l.charAt(l.length-2)||this.Utils.in_array(h,this.Utils.single_token)?a||(this.tag_type="SINGLE"):d&&"{"===l[0]&&"else"===h?a||(this.indent_to_tag("if"),this.tag_type="HANDLEBARS_ELSE",this.indent_content=!0,this.traverse_whitespace()):this.is_unformatted(h,
N)?(k=this.get_unformatted("</"+h+">",l),f.push(k),this.tag_type="SINGLE"):"script"===h&&(-1===l.search("type")||-1<l.search("type")&&-1<l.search(/\b(text|application)\/(x-)?(javascript|ecmascript|jscript|livescript)/))?a||(this.record_tag(h),this.tag_type="SCRIPT"):"style"===h&&(-1===l.search("type")||-1<l.search("type")&&-1<l.search("text/css"))?a||(this.record_tag(h),this.tag_type="STYLE"):"!"===h.charAt(0)?a||(this.tag_type="SINGLE",this.traverse_whitespace()):a||("/"===h.charAt(0)?(this.retrieve_tag(h.substring(1)),
this.tag_type="END"):(this.record_tag(h),"html"!==h.toLowerCase()&&(this.indent_content=!0),this.tag_type="START"),this.traverse_whitespace()&&this.space_or_wrap(f),this.Utils.in_array(h,this.Utils.extra_liners)&&(this.print_newline(!1,this.output),this.output.length&&"\n"!==this.output[this.output.length-2]&&this.print_newline(!0,this.output))),a&&(this.pos=i,this.line_char_count=g),f.join("")},this.get_comment=function(a){var d="",e=">",f=!1;this.pos=a;input_char=this.input.charAt(this.pos);for(this.pos++;this.pos<=
this.input.length&&!(d+=input_char,d[d.length-1]===e[e.length-1]&&-1!==d.indexOf(e));)!f&&10>d.length&&(0===d.indexOf("<![if")?(e="<![endif]>",f=!0):0===d.indexOf("<![cdata[")?(e="]]\>",f=!0):0===d.indexOf("<![")?(e="]>",f=!0):0===d.indexOf("<\!--")&&(e="--\>",f=!0)),input_char=this.input.charAt(this.pos),this.pos++;return d},this.get_unformatted=function(a,e){if(e&&-1!==e.toLowerCase().indexOf(a))return"";var f="",k="",c=0,r=!0;do{if(this.pos>=this.input.length)break;if(f=this.input.charAt(this.pos),
this.pos++,this.Utils.in_array(f,this.Utils.whitespace)){if(!r){this.line_char_count--;continue}if("\n"===f||"\r"===f){k+="\n";this.line_char_count=0;continue}}k+=f;this.line_char_count++;r=!0;d&&"{"===f&&k.length&&"{"===k[k.length-2]&&(k+=this.get_unformatted("}}"),c=k.length)}while(-1===k.toLowerCase().indexOf(a,c));return k},this.get_token=function(){var a,d,e;return"TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token?(d=this.last_token.substr(7),a=this.get_contents_to(d),"string"!=
typeof a)?a:[a,"TK_"+d]:"CONTENT"===this.current_mode?(a=this.get_content(),"string"!=typeof a?a:[a,"TK_CONTENT"]):"TAG"===this.current_mode?(a=this.get_tag(),"string"!=typeof a?a:(e="TK_TAG_"+this.tag_type,[a,e])):void 0},this.get_full_indent=function(a){return(a=this.indent_level+a||0,1>a)?"":Array(a+1).join(this.indent_string)},this.is_unformatted=function(a,d){if(!this.Utils.in_array(a,d))return!1;if("a"!==a.toLowerCase()||!this.Utils.in_array("a",d))return!0;var e=(this.get_tag(!0)||"").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);
return!e||this.Utils.in_array(e,d)?!0:!1},this.printer=function(a,d,e,f,c){this.input=a||"";this.output=[];this.indent_character=d;this.indent_string="";this.indent_size=e;this.brace_style=c;this.indent_level=0;this.wrap_line_length=f;for(a=this.line_char_count=0;a<this.indent_size;a++)this.indent_string+=this.indent_character;this.print_newline=function(a,c){(this.line_char_count=0,c&&c.length)&&(a||"\n"!==c[c.length-1])&&("\n"!==c[c.length-1]&&(c[c.length-1]=c[c.length-1].replace(/\s+$/g,"")),c.push("\n"))};
this.print_indentation=function(a){for(var c=0;c<this.indent_level;c++)a.push(this.indent_string),this.line_char_count+=this.indent_string.length};this.print_token=function(a){(!this.is_whitespace(a)||this.output.length)&&((a||""!==a)&&this.output.length&&"\n"===this.output[this.output.length-1]&&(this.print_indentation(this.output),a=a.replace(/^\s+/g,"")),this.print_token_raw(a))};this.print_token_raw=function(a){0<this.newlines&&(a=a.replace(/\s+$/g,""));a&&""!==a&&(1<a.length&&"\n"===a[a.length-
1]?(this.output.push(a.slice(0,-1)),this.print_newline(!1,this.output)):this.output.push(a));for(a=0;a<this.newlines;a++)this.print_newline(0<a,this.output);this.newlines=0};this.indent=function(){this.indent_level++};this.unindent=function(){0<this.indent_level&&this.indent_level--}},this};for(a.printer(s,F,z,P,O);!(w=a.get_token(),a.token_text=w[0],a.token_type=w[1],"TK_EOF"===a.token_type);){switch(a.token_type){case "TK_TAG_START":a.print_newline(!1,a.output);a.print_token(a.token_text);a.indent_content&&
(a.indent(),a.indent_content=!1);a.current_mode="CONTENT";break;case "TK_TAG_STYLE":case "TK_TAG_SCRIPT":a.print_newline(!1,a.output);a.print_token(a.token_text);a.current_mode="CONTENT";break;case "TK_TAG_END":"TK_CONTENT"===a.last_token&&""===a.last_text&&(k=a.token_text.match(/\w+/)[0],u=null,a.output.length&&(u=a.output[a.output.length-1].match(/(?:<|{{#)\s*(\w+)/)),(null===u||u[1]!==k)&&a.print_newline(!1,a.output));a.print_token(a.token_text);a.current_mode="CONTENT";break;case "TK_TAG_SINGLE":(s=
a.token_text.match(/^\s*<([a-z-]+)/i))&&a.Utils.in_array(s[1],N)||a.print_newline(!1,a.output);a.print_token(a.token_text);a.current_mode="CONTENT";break;case "TK_TAG_HANDLEBARS_ELSE":a.print_token(a.token_text);a.indent_content&&(a.indent(),a.indent_content=!1);a.current_mode="CONTENT";break;case "TK_CONTENT":a.print_token(a.token_text);a.current_mode="TAG";break;case "TK_STYLE":case "TK_SCRIPT":""!==a.token_text&&((a.print_newline(!1,a.output),s=a.token_text,q=1,"TK_SCRIPT"===a.token_type?n="function"==
typeof v&&v:"TK_STYLE"===a.token_type&&(n="function"==typeof y&&y),"keep"===e.indent_scripts?q=0:"separate"===e.indent_scripts&&(q=-a.indent_level),z=a.get_full_indent(q),n)?s=n(s.replace(/^\s*/,z),e):(F=s.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(a.indent_string).length-1,F=a.get_full_indent(q-F),s=s.replace(/^\s*/,z).replace(/\r\n|\r|\n/g,"\n"+F).replace(/\s+$/,"")),s&&(a.print_token_raw(s),a.print_newline(!0,a.output)));a.current_mode="TAG";break;default:""!==a.token_text&&a.print_token(a.token_text)}a.last_token=
a.token_type;a.last_text=a.token_text}return D=a.output.join("").replace(/[\r\n\t ]+$/,""),f&&(D+="\n"),D}if("function"==typeof define&&define.amd)define(["require","./beautify","./beautify-css"],function(s){var e=s("./beautify"),y=s("./beautify-css");return{html_beautify:function(s,a){return v(s,a,e.js_beautify,y.css_beautify)}}});else if("undefined"!=typeof exports){var y=require("./beautify.js"),H=require("./beautify-css.js");exports.html_beautify=function(s,e){return v(s,e,y.js_beautify,H.css_beautify)}}else"undefined"!=
typeof window?window.html_beautify=function(s,e){return v(s,e,window.js_beautify,window.css_beautify)}:"undefined"!=typeof global&&(global.html_beautify=function(s,e){return v(s,e,global.js_beautify,global.css_beautify)})})();
